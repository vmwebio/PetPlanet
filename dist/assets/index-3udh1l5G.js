(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const l="https://jsonplaceholder.typicode.com/posts",a=async o=>{try{const t=await fetch(l,{method:"POST",body:o});if(t.ok)return await t.text();throw new Error("Ошибка при отправке данных")}catch(t){throw console.error("Произошла ошибка:",t.message),t}},i=document.querySelector(".subscribe__form"),u=i.querySelector(".subscribe__input"),d=document.querySelector(".subscribe__title");i.addEventListener("submit",async o=>{o.preventDefault();const t=u.value;if(!t||!f(t)){alert("Пожалуйста, введите ваш адрес электронной почты.");return}const n=new FormData;n.append("email",t);try{const s=await a(n);console.log("Успешно",s),i.innerHTML='<div class="subscribe__alert_success">Отправлено!</div>',d.style.display="none"}catch(s){console.error("Ошибка:",s.message),alert("Произошла ошибка при отправке данных. Пожалуйста, попробуйте еще раз.")}});const f=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o);
